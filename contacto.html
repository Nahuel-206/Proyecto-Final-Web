<html>
    <head>
        <title> Contacto </title>
        <link rel="stylesheet" href="CSS-Final/estilos-final.css" type = "text/css" >
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap" rel="stylesheet">
    </head>
<body>
    <header>
        <p class="logo"> THE BUNKER TECNO </p>
            <ul class="cont-ul">
                <li><a href="Proyecto Final Web.html"> Inicio </a></li>
                <li class="develop"> Menu 
                    <ul class="ul-second">
                        <li><a href="mother.html" > Mother </a></li>
                        <li><a href="procesador.html" > Procesador </a></li>
                        <li><a href="ram.html"> RAM </a></li>
                    </ul>
                </li>
                <li><a href="contacto.html"> Contacto </a></li>
            </ul>  
    </header>


<div class="contenedor">
<form onsubmit="return  enviar(event)" name="form" id="form" class="form">

    <div class="form-header">
    <h1 class="form-title"> C <span> ontacto</span> </h1>
    </div>

    <label for="nombre" class="form-label"> Nombre </label> <br>
    <input type="text" class="form-input" name="nombre" id="nombre" placeholder="Escriba su nombre">
    <br>
    

    
    <label for="dir" class="form-label"> Direccion </label><br>
    <input class="form-input" name="dir" id="dir" placeholder="Escriba su direccion"> 
    <br> 
    

    
    <label for="correo" class="form-label"> Correo Electr√≥nico </label> <br>
    <input class="form-input" name="correo" id="correo" placeholder="Ingrese su correo"/>
    <br>
    
    <label for="mensaje" class="form-label"> Mensaje </label><br>
    <input class="form-input" type="text" name="mensaje" id="mensaje" placeholder="Aqui escriba su mensaje"/>
    <br>
   
    <input class="btn-submit" type="submit" value="Enviar Consulta/Comentario" />
    
    </form>

</div>

<div class="for">

    <ul id="listaError" >
    </ul>



    <div id="demo">
    
    

<script>
function ver(e){
    console.log(e);
}
function enviar(e){
    if(validar()){
    let nombre = document.getElementById("nombre");
    let dir = document.getElementById("dir");
    let correo = document.form.correo;
    let mensaje = document.getElementById("mensaje");
    let errores = [];
    let inputs = document.querySelectorAll("input");
    let p = document.createElement("p");
    p.innerHTML = `${nombre.value }, de la localidad y/o cuidad de "${dir.value}", dejo un mensaje adjuntado al siguiente correo (${correo.value}).`;
    p.innerHTML += ` `;
    p.innerHTML += ` Pronto responderemos tu consulta o comentario, hasta pronto y gracias por tu opinion!.`
    document.getElementById("demo").appendChild(p);
    form.reset();
    }
    return false;
    }
    


function validar(){
    
    let nombre = document.getElementById("nombre");
    let dir = document.getElementById("dir");
    let correo = document.form.correo;
    let mensaje = document.getElementById("mensaje");
    let errores = [];
    let inputs = document.querySelectorAll("input");
    

    for(i = 0; i < inputs.length; i++){
        inputs[i].style.border = "revert";
    }

    let er = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/;
    
    if(correo.value.trim() == ''){
        errores.push("EL campo correo, no puede estar vacio");
        correo.style.border = "1px solid red";
    }else if(!er.test(correo.value)){
        errores.push("Deber ser un email valido");
        correo.style.border = "1px solid red";
    }

    
    if(nombre.value.trim() == ''){
        errores.push("El campo nombre, no puede estar vacio");
        nombre.style.border = "1px solid red";
    }else if(nombre.value.length >= 200){
        errores.push("Nombre no puede exceder los 200 caracteres");
        nombre.style.border = "1px solid red";
    }
    
    if(dir.value.trim() == ''){
        errores.push("El campo direccion, no puede estar vacia");
        dir.style.border = "1px solid red";
    }
    
    if(mensaje.value.trim() == ''){
        errores.push("El campo mensaje, no puede estar vacio");
        mensaje.style.border = "1px solid red";
    }else if(mensaje.length >= 1000){
        errores.push("El mensaje no puede exceder los 1000 caracteres");
        mensaje.style.border = "1px solid red";
    }

   let listaError_elem = document.querySelector("#listaError");
   listaError_elem.innerHTML = ""; 
   errores.forEach(e => {
       let li = document.createElement("li");
       li.innerHTML = e;
       listaError_elem.appendChild(li);   
    console.log(e);
   });

    return errores.length == 0;
}


</script>

</div>

<br>
</div>

</body>
</html>