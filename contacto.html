<html>
    <head>
        <title> Contacto </title>
        <link rel="stylesheet" href="CSS-Final/estilos-final.css" type = "text/css" >
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap" rel="stylesheet">
    </head>
<body>
    <header>
        <p class="logo"> THE BUNKER TECNO </p>
            <ul class="cont-ul">
                <li><a href="Proyecto Final Web.html"> Inicio </a></li>
                <li class="develop"> Menu 
                    <ul class="ul-second">
                        <li><a href="mother.html" > Mother </a></li>
                        <li><a href="procesador.html" > Procesador </a></li>
                        <li><a href="ram.html"> RAM </a></li>
                    </ul>
                </li>
                <li><a href="contacto.html"> Contacto </a></li>
            </ul>  
    </header>
<h1> Aca va a estar el formulario </h1>

<form onsubmit="return  enviar(event)" name="form" id="form" method="get">
    <div>
    <label for="nombre"> Nombre </label> <br>
    <input type="text" name="nombre" id="nombre" >
    <br>
    </div>

    <div>
    <input type="radio" name="tipo" id="tipo" value="1" > Saludo
    <input type="radio" name="tipo" id="tipo" value="0" > Sugerencia 
    <br> 
    </div> 

    <div>
    <label for="mensaje"> Mensaje </label> <br>
    <input type="text" name="mensaje" id="mensaje" autofocus >
    <br>    
    </div>

    <div>
    <input type="submit" id="boton" name="boton" value="Enviar">
    </div>

     </form>
    <ul id="listaError" >
    </ul>
    <div id="demo">

    </div>

<script>
function ver(e){
    errores.push(e);
}
function enviar(e){
    if(validar()){
    let nombre = document.getElementById("nombre");
    let saludo = document.getElementById("");
    let sugerencia = document.form.sugerencia;
    let mensaje = document.getElementById("mensaje");
    let errores = [];
    let inputs = document.querySelectorAll("input");
    let p = document.createElement("p");
    // p.innerHTML = `${nombre.value } ` ;
    // p.innerHTML += tipo[0].checked? "dejo un saludo! " : "sugiere: ";
    // p.innerHTML += `${mensaje.value}`;
    document.getElementById("demo").appendChild(p);

    switch(tipo[0]){
        case 1:
            if(mensaje != ""){
                p.innerHTML += `${nombre} deja un saludo: ${mensaje}`;
            }else{
                p.innerHTML += `${nombre} deja un saludo!`;
            }
            break;
        case 0:
            p.innerHTML += `${nombre} sugiere: ${mensaje}`;
            break;
    }
    }
    return false;
    }
    


function validar(){
    let nombre = document.getElementById("nombre");
    let saludo = document.getElementById("")
    let sugerencia = document.form.sugerencia;
    let mensaje = document.getElementById("mensaje");
    let errores = [];
    let inputs = document.querySelectorAll("input,div");

    
    for(i = 0; i < inputs.length; i++){
        inputs[i].style.border = "revert";
    }
    

    if(nombre.value.trim() == ''){
        errores.push("Nombre no puede estar vacio");
        nombre.style.border = "1px solid red";
    }else if(nombre.value.length > 30){
        errores.push("Nombre no puede exceder los 30 caracteres")
        nombre.style.border = "1px solid red";
    }
    
    if(mensaje.value == ''){
        errores.push("Mensaje no puede estar vacio");
        mensaje.style.border = "1px solid red";
    }else if(mensaje.length > 200){
        errores.push("El mensaje no puede exceder los 200 caracteres");
        mensaje.style.border = "1px solid red";
    }
    if(tipo.length == 1){

    }

   if(form.tipo[0].checked == true || form.tipo[1].checked == true){

   }else{
    errores.push("Debe selecionar alguna opcion");
    tipo[0].parentNode.style.border= "1px solid red";
   }
   if(form.tipo[0].value == 2 && mensaje == "" ){
       errores.push("Debe escribir la sugerencia en el mensaje");
   }

   let listaError_elem = document.querySelector("#listaError");
   listaError_elem.innerHTML = ""; 
   errores.forEach(e => {
       let li = document.createElement("li");
       li.innerHTML = e;
       listaError_elem.appendChild(li);   
    console.log(e);
   });

    return errores.length == 0;
}


</script>

</body>
</html>